{"ast":null,"code":"var _jsxFileName = \"/Users/nazanin/Langara-Term4/React-Native/Final Exam/artists-instruments-boilerplate-antd/client/src/components/buttons/RemoveInstrument.js\";\nimport React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { filter } from 'lodash';\nimport { GET_ARTISTSINSTRUMENTS, REMOVE_INSTRUMENT } from '../../queries';\nimport { DeleteOutlined } from '@ant-design/icons';\n\nconst RemoveInstrument = ({\n  id,\n  year,\n  brand,\n  type,\n  price,\n  artistId\n}) => {\n  const [removeInstrument] = useMutation(REMOVE_INSTRUMENT, {\n    update(proxy, {\n      data: {\n        removeInstrument\n      }\n    }) {\n      const {\n        instruments\n      } = proxy.readQuery({\n        query: GET_ARTISTSINSTRUMENTS,\n        variables: {\n          artistId: artistId\n        }\n      });\n      proxy.writeQuery({\n        query: GET_ARTISTSINSTRUMENTS,\n        variables: {\n          artistId: artistId\n        },\n        data: {\n          getInstruments: filter(instruments, c => {\n            return c.id !== removeInstrument.id;\n          })\n        }\n      });\n    }\n\n  });\n\n  const handleButtonClick = () => {\n    let result = window.confirm('Are you sure you want to delete this instrument?');\n\n    if (result) {\n      removeInstrument({\n        variables: {\n          id\n        },\n        optimisticResponse: {\n          __typename: 'Mutation',\n          removeInstrument: {\n            __typename: 'Instrument',\n            id,\n            year,\n            brand,\n            type,\n            price,\n            artistId\n          }\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(DeleteOutlined, {\n    key: \"delete\",\n    onClick: handleButtonClick,\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default RemoveInstrument;","map":{"version":3,"sources":["/Users/nazanin/Langara-Term4/React-Native/Final Exam/artists-instruments-boilerplate-antd/client/src/components/buttons/RemoveInstrument.js"],"names":["React","useMutation","filter","GET_ARTISTSINSTRUMENTS","REMOVE_INSTRUMENT","DeleteOutlined","RemoveInstrument","id","year","brand","type","price","artistId","removeInstrument","update","proxy","data","instruments","readQuery","query","variables","writeQuery","getInstruments","c","handleButtonClick","result","window","confirm","optimisticResponse","__typename","color"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,sBAAT,EAAiCC,iBAAjC,QAA0D,eAA1D;AACA,SAASC,cAAT,QAA+B,mBAA/B;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,IAAN;AAAYC,EAAAA,KAAZ;AAAmBC,EAAAA,IAAnB;AAAyBC,EAAAA,KAAzB;AAAgCC,EAAAA;AAAhC,CAAD,KAAgD;AACrE,QAAM,CAACC,gBAAD,IAAqBZ,WAAW,CAACG,iBAAD,EAAoB;AACtDU,IAAAA,MAAM,CAACC,KAAD,EAAQ;AAAEC,MAAAA,IAAI,EAAE;AAAEH,QAAAA;AAAF;AAAR,KAAR,EAAwC;AAC1C,YAAM;AAAEI,QAAAA;AAAF,UAAkBF,KAAK,CAACG,SAAN,CAAgB;AACpCC,QAAAA,KAAK,EAAEhB,sBAD6B;AAEpCiB,QAAAA,SAAS,EAAE;AAAER,UAAAA,QAAQ,EAAEA;AAAZ;AAFyB,OAAhB,CAAxB;AAIAG,MAAAA,KAAK,CAACM,UAAN,CAAiB;AACbF,QAAAA,KAAK,EAAEhB,sBADM;AAEbiB,QAAAA,SAAS,EAAE;AAAER,UAAAA,QAAQ,EAAEA;AAAZ,SAFE;AAGbI,QAAAA,IAAI,EAAE;AACFM,UAAAA,cAAc,EAAEpB,MAAM,CAACe,WAAD,EAAcM,CAAC,IAAI;AACrC,mBAAOA,CAAC,CAAChB,EAAF,KAASM,gBAAgB,CAACN,EAAjC;AACH,WAFqB;AADpB;AAHO,OAAjB;AASH;;AAfqD,GAApB,CAAtC;;AAkBA,QAAMiB,iBAAiB,GAAG,MAAM;AAC5B,QAAIC,MAAM,GAAGC,MAAM,CAACC,OAAP,CAAe,kDAAf,CAAb;;AACA,QAAIF,MAAJ,EAAY;AACRZ,MAAAA,gBAAgB,CAAC;AACbO,QAAAA,SAAS,EAAE;AACPb,UAAAA;AADO,SADE;AAIbqB,QAAAA,kBAAkB,EAAE;AAChBC,UAAAA,UAAU,EAAE,UADI;AAEhBhB,UAAAA,gBAAgB,EAAE;AACdgB,YAAAA,UAAU,EAAE,YADE;AAEdtB,YAAAA,EAFc;AAGdC,YAAAA,IAHc;AAIdC,YAAAA,KAJc;AAKdC,YAAAA,IALc;AAMdC,YAAAA,KANc;AAOdC,YAAAA;AAPc;AAFF;AAJP,OAAD,CAAhB;AAiBH;AACJ,GArBD;;AAuBA,sBACI,oBAAC,cAAD;AACI,IAAA,GAAG,EAAC,QADR;AAEI,IAAA,OAAO,EAAEY,iBAFb;AAGI,IAAA,KAAK,EAAE;AAAEM,MAAAA,KAAK,EAAE;AAAT,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAOH,CAjDD;;AAmDA,eAAexB,gBAAf","sourcesContent":["import React from 'react'\nimport { useMutation } from '@apollo/react-hooks'\nimport { filter } from 'lodash'\nimport { GET_ARTISTSINSTRUMENTS, REMOVE_INSTRUMENT } from '../../queries'\nimport { DeleteOutlined } from '@ant-design/icons'\n\nconst RemoveInstrument = ({ id, year, brand, type, price, artistId }) => {\n    const [removeInstrument] = useMutation(REMOVE_INSTRUMENT, {\n        update(proxy, { data: { removeInstrument } }) {\n            const { instruments } = proxy.readQuery({\n                query: GET_ARTISTSINSTRUMENTS,\n                variables: { artistId: artistId }\n            })\n            proxy.writeQuery({\n                query: GET_ARTISTSINSTRUMENTS,\n                variables: { artistId: artistId },\n                data: {\n                    getInstruments: filter(instruments, c => {\n                        return c.id !== removeInstrument.id\n                    })\n                }\n            })\n        }\n    })\n\n    const handleButtonClick = () => {\n        let result = window.confirm('Are you sure you want to delete this instrument?')\n        if (result) {\n            removeInstrument({\n                variables: {\n                    id\n                },\n                optimisticResponse: {\n                    __typename: 'Mutation',\n                    removeInstrument: {\n                        __typename: 'Instrument',\n                        id,\n                        year,\n                        brand,\n                        type,\n                        price,\n                        artistId\n                    }\n                }\n            })\n        }\n    }\n\n    return (\n        <DeleteOutlined\n            key='delete'\n            onClick={handleButtonClick}\n            style={{ color: 'red' }}\n        />\n    )\n}\n\nexport default RemoveInstrument\n"]},"metadata":{},"sourceType":"module"}